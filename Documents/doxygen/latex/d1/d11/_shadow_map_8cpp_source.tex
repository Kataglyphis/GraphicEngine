\hypertarget{_shadow_map_8cpp_source}{}\doxysection{Shadow\+Map.\+cpp}
\label{_shadow_map_8cpp_source}\index{C:/Users/jonas/Desktop/GraphicEngine/Src/scene/shadows/ShadowMap.cpp@{C:/Users/jonas/Desktop/GraphicEngine/Src/scene/shadows/ShadowMap.cpp}}
\mbox{\hyperlink{_shadow_map_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_shadow_map_8h}{ShadowMap.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00004}\mbox{\hyperlink{class_shadow_map_ab6fd44eb98770e85a2fafc27437169b1}{00004}} \mbox{\hyperlink{class_shadow_map_ab6fd44eb98770e85a2fafc27437169b1}{ShadowMap::ShadowMap}}() :}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00006}00006     FBO(0), shadow\_map(0), shadow\_width(0), shadow\_height(0)}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00008}00008 \{}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00009}00009 \}}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00011}\mbox{\hyperlink{class_shadow_map_a1d5756372ec32b79dc70462ebd502603}{00011}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_shadow_map_a1d5756372ec32b79dc70462ebd502603}{ShadowMap::init}}(GLuint width, GLuint height)}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00012}00012 \{}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00013}00013   \mbox{\hyperlink{class_shadow_map_adf6650a74163c88b1a9f8b914cea5d85}{shadow\_width}} = width;}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00014}00014   \mbox{\hyperlink{class_shadow_map_a67d10623cc44828c87303be015fddec6}{shadow\_height}} = height;}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00016}00016   glGenFramebuffers(1, \&\mbox{\hyperlink{class_shadow_map_a476d2286842a8e95e6e8304fad82d8c4}{FBO}});}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00018}00018   glGenTextures(1, \&\mbox{\hyperlink{class_shadow_map_a7ddab4767c978d5f88c86e5588ce53d7}{shadow\_map}});}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00019}00019   glBindTexture(GL\_TEXTURE\_2D, \mbox{\hyperlink{class_shadow_map_a7ddab4767c978d5f88c86e5588ce53d7}{shadow\_map}});}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00020}00020   glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_DEPTH\_COMPONENT, \mbox{\hyperlink{class_shadow_map_adf6650a74163c88b1a9f8b914cea5d85}{shadow\_width}}, \mbox{\hyperlink{class_shadow_map_a67d10623cc44828c87303be015fddec6}{shadow\_height}}, 0, GL\_DEPTH\_COMPONENT, GL\_FLOAT, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00022}00022   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_NEAREST);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00023}00023   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_NEAREST);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00025}00025   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_CLAMP\_TO\_BORDER);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00026}00026   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_CLAMP\_TO\_BORDER);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00028}00028   \textcolor{keywordtype}{float} border\_color[] = \{ 1.0f, 1.0f, 1.0f, 1.0f \};}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00029}00029   glTexParameterfv(GL\_TEXTURE\_2D, GL\_TEXTURE\_BORDER\_COLOR, border\_color);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00031}00031   glBindFramebuffer(GL\_FRAMEBUFFER, \mbox{\hyperlink{class_shadow_map_a476d2286842a8e95e6e8304fad82d8c4}{FBO}});}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00032}00032   glFramebufferTexture2D(GL\_FRAMEBUFFER, GL\_DEPTH\_ATTACHMENT, GL\_TEXTURE\_2D, \mbox{\hyperlink{class_shadow_map_a7ddab4767c978d5f88c86e5588ce53d7}{shadow\_map}}, 0);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00034}00034   glDrawBuffer(GL\_NONE);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00035}00035   glReadBuffer(GL\_NONE);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00037}00037   GLenum status = glCheckFramebufferStatus(GL\_FRAMEBUFFER);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00039}00039   \textcolor{keywordflow}{if} (status != GL\_FRAMEBUFFER\_COMPLETE) \{}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00041}00041     printf(\textcolor{stringliteral}{"{}Framebuffer error: \%i\(\backslash\)n"{}}, status);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00042}00042     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00043}00043   \}}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00045}00045   glBindFramebuffer(GL\_FRAMEBUFFER, 0);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00047}00047   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00048}00048 \}}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00050}\mbox{\hyperlink{class_shadow_map_ab0b57da58f9af794c7ff0733417dd942}{00050}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_shadow_map_ab0b57da58f9af794c7ff0733417dd942}{ShadowMap::write}}() \{ glBindFramebuffer(GL\_FRAMEBUFFER, \mbox{\hyperlink{class_shadow_map_a476d2286842a8e95e6e8304fad82d8c4}{FBO}}); \}}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00051}00051 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00052}\mbox{\hyperlink{class_shadow_map_a185c2551444ddbfd1579d406ec99400d}{00052}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_shadow_map_a185c2551444ddbfd1579d406ec99400d}{ShadowMap::read}}(GLenum texture\_unit)}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00053}00053 \{}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00055}00055   glActiveTexture(texture\_unit);}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00056}00056   glBindTexture(GL\_TEXTURE\_2D, \mbox{\hyperlink{class_shadow_map_a7ddab4767c978d5f88c86e5588ce53d7}{shadow\_map}});}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00057}00057 \}}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00059}\mbox{\hyperlink{class_shadow_map_aade01d2dc3620a7015016ecd3aa3cab3}{00059}} \mbox{\hyperlink{class_shadow_map_aade01d2dc3620a7015016ecd3aa3cab3}{ShadowMap::\string~ShadowMap}}()}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00060}00060 \{}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00061}00061   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_shadow_map_a476d2286842a8e95e6e8304fad82d8c4}{FBO}}) \{}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00062}00062     glDeleteFramebuffers(1, \&\mbox{\hyperlink{class_shadow_map_a476d2286842a8e95e6e8304fad82d8c4}{FBO}});}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00063}00063   \}}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00064}00064 }
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00065}00065   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_shadow_map_a7ddab4767c978d5f88c86e5588ce53d7}{shadow\_map}}) \{}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00066}00066     glDeleteTextures(1, \&\mbox{\hyperlink{class_shadow_map_a7ddab4767c978d5f88c86e5588ce53d7}{shadow\_map}});}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00067}00067   \}}
\DoxyCodeLine{\Hypertarget{_shadow_map_8cpp_source_l00068}00068 \}}

\end{DoxyCode}
